using UnityEngine;
using UnityEngine.InputSystem;

namespace Hitable
{
    public class Dummy : Entity
    {
        private Collider2D dummyCollider;
        private SpriteRenderer spriteRenderer;
        private PlayerInput playerInput;

        protected override void Awake()
        {
            base.Awake();
            dummyCollider = GetComponent<Collider2D>();
            spriteRenderer = GetComponentInChildren<SpriteRenderer>();
            playerInput = GetComponent<PlayerInput>();
        }

        public override void Die()
        {
            base.Die();
            Debug.Log($"Dummy {name} broke");
            spriteRenderer.gameObject.SetActive(false);
            dummyCollider.enabled = false;
            rb.simulated = false;
            playerInput.enabled = false;
        }
    }
}